<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Activos Fijos</title>
    <link rel="stylesheet" href="css/layout.css">
</head>
<body>
    <div id="sidebar-container"></div>

    <main class="main-content">
        <div class="page-header">
            <div>
                <h1 class="page-title">Dashboard</h1>
                <p class="page-subtitle">Resumen general de activos</p>
            </div>
            <div class="breadcrumb">
                <a href="#">Inicio</a>
                <span>/</span>
                <span>Dashboard</span>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon blue">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="18" rx="2"/>
                            <line x1="2" y1="9" x2="22" y2="9"/>
                        </svg>
                    </div>
                    <div class="stat-trend up">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 14px; height: 14px;">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                            <polyline points="17 6 23 6 23 12"/>
                        </svg>
                        +12%
                    </div>
                </div>
                <div class="stat-value">1,248</div>
                <div class="stat-label">Total de Activos</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon green">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                    </div>
                    <div class="stat-trend up">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 14px; height: 14px;">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                            <polyline points="17 6 23 6 23 12"/>
                        </svg>
                        +5%
                    </div>
                </div>
                <div class="stat-value">8</div>
                <div class="stat-label">Sedes</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon orange">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="18" cy="18" r="3"/>
                            <circle cx="6" cy="6" r="3"/>
                            <path d="M13 6h3a2 2 0 0 1 2 2v7"/>
                            <line x1="6" y1="9" x2="6" y2="21"/>
                        </svg>
                    </div>
                    <div class="stat-trend down">
                        <svg viewBox="0 0" fill="none 24 24" stroke="currentColor" stroke-width="2" style="width: 14px; height: 14px;">
                            <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/>
                            <polyline points="17 18 23 18 23 12"/>
                        </svg>
                        -2%
                    </div>
                </div>
                <div class="stat-value">156</div>
                <div class="stat-label">Total de Vehículos</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon purple">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                        </svg>
                    </div>
                    <div class="stat-trend up">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 14px; height: 14px;">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                            <polyline points="17 6 23 6 23 12"/>
                        </svg>
                        +8%
                    </div>
                </div>
                <div class="stat-value">324</div>
                <div class="stat-label">Total de Licencias</div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Activos por Sede</h3>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="assetsByBranch"></canvas>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Tipos de Activos</h3>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="assetTypes"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Últimos Activos Registrados</h3>
            </div>
            <div class="card-body">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Código</th>
                                <th>Nombre</th>
                                <th>Tipo</th>
                                <th>Sede</th>
                                <th>Estado</th>
                                <th>Fecha</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>AF-2024-001</td>
                                <td>Computadora Dell XPS 15</td>
                                <td>Tecnología</td>
                                <td>Central</td>
                                <td><span class="badge-status active">Activo</span></td>
                                <td>02/02/2026</td>
                            </tr>
                            <tr>
                                <td>AF-2024-002</td>
                                <td>Vehicle Toyota Corolla</td>
                                <td>Vehículo</td>
                                <td>Norte</td>
                                <td><span class="badge-status active">Activo</span></td>
                                <td>01/02/2026</td>
                            </tr>
                            <tr>
                                <td>AF-2024-003</td>
                                <td>Licencia Microsoft 365</td>
                                <td>Software</td>
                                <td>Central</td>
                                <td><span class="badge-status pending">Por Vencer</span></td>
                                <td>31/01/2026</td>
                            </tr>
                            <tr>
                                <td>AF-2024-004</td>
                                <td>Silla Ergonómica</td>
                                <td>Mobiliario</td>
                                <td>Sur</td>
                                <td><span class="badge-status active">Activo</span></td>
                                <td>30/01/2026</td>
                            </tr>
                            <tr>
                                <td>AF-2024-005</td>
                                <td>Impresora HP LaserJet</td>
                                <td>Tecnología</td>
                                <td>Este</td>
                                <td><span class="badge-status inactive">Inactivo</span></td>
                                <td>29/01/2026</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <script src="sidebar.html"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        async function loadSidebar() {
            const response = await fetch('sidebar.html');
            const sidebar = await response.text();
            document.getElementById('sidebar-container').innerHTML = sidebar;
        }
        
        loadSidebar().then(() => {
            const currentPage = window.location.pathname.split('/').pop();
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                const onclick = item.getAttribute('onclick');
                if (onclick && onclick.includes(currentPage)) {
                    item.classList.add('active');
                }
            });
            if (!currentPage || currentPage === 'dashboard.html') {
                const dashboardItem = document.querySelector('.nav-item[onclick*="dashboard"]');
                if (dashboardItem) dashboardItem.classList.add('active');
            }

            const assetsByBranch = new Chart(document.getElementById('assetsByBranch'), {
                type: 'bar',
                data: {
                    labels: ['Central', 'Norte', 'Sur', 'Este', 'Oeste', 'Norte 2', 'Centro', 'Sur 2'],
                    datasets: [{
                        label: 'Activos',
                        data: [320, 180, 150, 140, 120, 110, 108, 120],
                        backgroundColor: '#3b82f6',
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#e5e7eb'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            const assetTypes = new Chart(document.getElementById('assetTypes'), {
                type: 'doughnut',
                data: {
                    labels: ['Tecnología', 'Vehículos', 'Mobiliario', 'Software', 'Otro'],
                    datasets: [{
                        data: [450, 156, 280, 324, 38],
                        backgroundColor: ['#3b82f6', '#f97316', '#22c55e', '#a855f7', '#6b7280'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
